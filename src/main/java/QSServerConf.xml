<?xml version="1.0" encoding="UTF-8"?>

<qs_conf>
    <server>
    	<!--查询服务器绑定的IP地址-->
	    <ip>0.0.0.0</ip>
	    <!--查询服务器绑定的端口-->
	    <port>6000</port>
	    <!--BLOB参数的最大长度-->
	    <blob_length>209715200</blob_length> <!-- 200M -->
	    <!--以preparestatement方式fetch查询结果时，每次fetch最记录数-->
	    <max_pstmt_fetch_size>5000</max_pstmt_fetch_size>
	    <!--以流方式发送查询结果，可避免服务器内存溢出，true/false-->
	    <use_stream_fetch>true</use_stream_fetch>
	    <!--流方式每次发送记录数-->
	    <stream_fetch_size>100</stream_fetch_size>
	    <!--是否去除timestamp类型的纳秒值，JDBC返回的timestamp如下：2010-01-01 00:00:00.0，小数点后是纳秒值，对于python来说解析会出错-->
	    <timestamp_skip_nano>true</timestamp_skip_nano>
	    <ddb>
		    <name>ddb_demo</name>
		    <url>127.0.0.1:8888</url>
	    </ddb>
    </server>
    <support>
    	<!--type: string/regex-->
        <!--behavior: 
        	execute：执行sql语句
        	refuse：拒绝执行
        	ignore：忽略，不抛错不执行
        	query：查询sql语句并返回结果
        	query_dbn_cache：随机获取一个底层数据库节点进行查询，并缓存查询结果以备以后使用
        	insert：插入数据并返回可能的唯一ID值
        	isql:执行isql命令
        	
        	注意：匹配是从上到下进行，出现包含情况需要注意匹配顺序
        -->
	    <sql type="string" behavior="query_dbn_cache">show session variables</sql>
	    <sql type="string" behavior="query_dbn_cache">show collation</sql>
		<sql type="string" behavior="query_dbn_cache">SHOW CHARACTER SET</sql>
	    <sql type="regex" behavior="query_dbn_cache">(?i)^SHOW VARIABLES .*</sql>
	    <sql type="regex" behavior="query_dbn_cache">(?i)^select\s+@@.*</sql>
	    <sql type="string" behavior="ignore">set character_set_results = NULL</sql>
	    <sql type="string" behavior="ignore">set sql_mode='STRICT_TRANS_TABLES'</sql>
	    <sql type="regex" behavior="query">(?i)^select .*</sql>
	    <sql type="regex" behavior="execute">(?i)^update .*</sql>
	    <sql type="regex" behavior="execute">(?i)^delete .*</sql>
	    <sql type="regex" behavior="execute">(?i)^call .*</sql>
	    <sql type="regex" behavior="insert">(?i)^insert .*</sql>
	    <sql type="regex" behavior="insert">(?i)^replace .*</sql>
        <sql type="regex" behavior="ignore">(?i)set\s+names\s+.+</sql>
        <sql type="regex" behavior="ignore">(?i)set\s+net_write_timeout=.*</sql>
        <sql type="regex" behavior="isql">(?i)^show\s+.+</sql>
        <sql type="regex" behavior="isql">(?i)^desc\s+.+</sql>
        <!--这一项必须放在最后-->
        <sql type="regex" behavior="refuse">.*</sql>
    </support>
</qs_conf>